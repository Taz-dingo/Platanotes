---
created: 星期四, 八月 22日 2024, 10:28:44 晚上, 1724336924000
modified: 星期四, 八月 22日 2024, 10:28:44 晚上, 1724336924000
---

TAG: JS
DECK: 前端

## 原型链
原型链是 JavaScript 中实现对象继承的机制，它通过对象的原型（`prototype`）属性将对象与其构造函数或父对象联系起来，从而实现属性和方法的共享。

### 原型链的核心概念：
1. **原型（prototype）**：
   每个 JavaScript 对象都有一个内置的属性叫 `__proto__`，它指向该对象的原型。对于通过构造函数创建的对象，它的原型就是构造函数的 `prototype` 属性。

2. **原型链（prototype chain）**：
   当我们访问一个对象的属性或方法时，JavaScript 引擎首先检查对象本身是否有该属性。如果没有，它会沿着 `__proto__` 指向的原型对象继续查找，直到找到该属性或达到原型链的顶端（通常是 `null`）。

### 原型链的工作机制：
假设我们有以下代码：

```javascript
function Animal(name) {
  this.name = name;
}

Animal.prototype.speak = function() {
  console.log(this.name + ' makes a noise.');
};

let dog = new Animal('Dog');
dog.speak(); // Dog makes a noise.
```

- `dog` 是通过 `Animal` 构造函数创建的。
- 当调用 `dog.speak()` 时，JavaScript 会首先检查 `dog` 对象本身是否有 `speak` 方法。
- 如果 `dog` 对象本身没有这个方法，它会沿着 `dog.__proto__`，也就是 `Animal.prototype` 查找，在那里找到了 `speak` 方法并执行。

如果在 `Animal.prototype` 上没有找到方法，JavaScript 会继续沿着原型链向上查找，直到 `Object.prototype`，最后到达原型链的顶端 `null`。

### 原型链的终点：
所有对象的最终原型都指向 `Object.prototype`，这是 JavaScript 中几乎所有对象的基础。当一个属性或方法在原型链的任何部分都找不到时，JavaScript 引擎就会返回 `undefined`。


END
<!--ID: 1729674368709-->

