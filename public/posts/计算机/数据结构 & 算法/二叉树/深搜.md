---
created: 星期四, 八月 22日 2024, 10:28:45 晚上, 1724336925000
modified: 星期四, 八月 22日 2024, 10:28:45 晚上, 1724336925000
---



DECK: 算法
## 深搜

[1026. 节点与其祖先之间的最大差值](https://leetcode.cn/problems/maximum-difference-between-node-and-ancestor/) 父子结点的最大差值 - 只需找路径上（路径上就一定是父子关系）的最大最小值

```typescript
function maxAncestorDiff(root: TreeNode | null): number {
    return (function dfs(node,min,max){
        if(!node) return Math.abs(max-min);

        max = Math.max(max,node.val);
        min = Math.min(min,node.val);

        const leftDiff = dfs(node.left,min,max);
        const rightDiff = dfs(node.right,min,max);

        return Math.max(leftDiff,rightDiff);
    })(root,root.val,root.val);
};
```


[124. 二叉树中的最大路径和](https://leetcode.cn/problems/binary-tree-maximum-path-sum/) 虽然这个涉及路径，但处理是在子树根节点上，所以还是用return接力而不用传参

```typescript
/**
递归遍历，每轮尝试更新maxPathSum
需要在当前节点处理左右路径，所以用return接力方式
 */
function maxPathSum(root: TreeNode | null): number {
    let maxSum = -Infinity;

    (function updateMaxSum(node){
        if(!node) return 0;

        const LS = Math.max(updateMaxSum(node.left),0);
        const RS = Math.max(updateMaxSum(node.right),0);

        const curSum = LS+RS+node.val;
        maxSum = Math.max(maxSum,curSum);

        return Math.max(LS,RS) + node.val;
    })(root)

    return maxSum;
};
```

END
<!--ID: 1726850011709-->
