---
created: 星期四, 九月 26日 2024, 11:33:12 晚上, 1727364792251
modified: 星期四, 九月 26日 2024, 11:33:12 晚上, 1727364792251
---

### [200. 岛屿数量](https://leetcode.cn/problems/number-of-islands/)
```typescript
function numIslands(grid: string[][]): number {
    if(!grid.length) return 0;
    // prepare
    const rows = grid.length;
    const cols = grid[0].length;
    let cnt = 0;
    const directions = [
        [-1,0],
        [0,1],
        [1,0],
        [0,-1]
    ]

    function dfs(r,c){
        if(r < 0 || r >= rows || c < 0 || c >= cols || grid[r][c] !== '1'){
            return;
        }

        grid[r][c] = '0';
        for(let [dr,dc] of directions){
            dfs(r+dr,c+dc);
        }
    }

    for(let r = 0;r < rows;r++){
        for(let c = 0;c < cols;c++){
            if(grid[r][c] === '1'){
                dfs(r,c);
                cnt++;
            }
        }
    }

    return cnt;
};
```

```typescript
function numIslands(grid: string[][]): number {
    if(!grid.length) return 0;
    // prepare
    const rows = grid.length;
    const cols = grid[0].length;
    let cnt = 0;
    // up right down left
    const directions = [
        [-1,0],
        [0,1],
        [1,0],
        [0,-1]
    ]

    function bfs(r,c){
        const que = [[r,c]];
        grid[r][c] = '0';

        while(que.length){
            const [curR,curC] = que.shift();
            for(let [dr,dc] of directions){
                const newR = curR+dr;
                const newC = curC+dc;
                if(newR >= 0 && newR < rows && newC >= 0 && newC < cols && grid[newR][newC] === '1'){
                    grid[newR][newC] = '0';
                    que.push([newR,newC]);
                }
            }
        }
    }

    for(let r = 0;r < rows;r++){
        for(let c = 0;c < cols;c++){
            if(grid[r][c] === '1'){
                bfs(r,c);
                cnt++;
            }
        }
    }

    return cnt;
};
```