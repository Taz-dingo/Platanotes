---
title: Navicat连接MySQL报错2002
date: 2022-11-10 15:26:53
categories: [学习]
tags: MySQL
---

最近在玩服务器，腾讯云服务器装完了MySQL之后发现用Navicat连接不上去（报错码2002），下面是解决过程。

<!--more-->

## 问题分析

查了相关内容，发现Navicat连不上MySQL的原因大概有以下几条：

1. 远程访问权限未开启（默认为localhost只能本地访问）
2. Navicat端口设置错误
3. 防火墙未开启



## 问题排查

对于1.我已经在保姆级安装教程[^1]中设置好了，排除。

```mysql
mysql> select Host ,User from user;
```

```mysql
+-----------+------------------+
| Host      | User             |
+-----------+------------------+
| %         | root             |	//用户为root时，不限制访问权限
| localhost | mysql.infoschema |
| localhost | mysql.session    |
| localhost | mysql.sys        |
+-----------+------------------+
4 rows in set (0.00 sec)
```

---

对于2.检查到端口为3306，和我在Navicat里设置的一样，排除。

```mysql
mysql> show global variables like 'port';
```

```mysql
+---------------+-------+
| Variable_name | Value |
+---------------+-------+
| port          | 3306  |
+---------------+-------+
1 row in set (0.00 sec)
```

---

对于3.一开始找不到防火墙怎么开，在蒋川大佬的文章[^2]启发下想起来腾讯云自己有一个防火墙，在控制台果然检查到防火墙未开启3306端口，找到了病因

![防火墙未开放](2022.11.10 Navicat连接MySQL报错2002/防火墙未开放.png)

 <img src="2022.11.10 Navicat连接MySQL报错2002/开放3306.png" alt="开放3306" style="zoom:50%;" />

设置完成之后就可以成功连接了。



[^1]:强壮的兔子.[【保姆级教程】CentOS安装MySQL数据库（快速安装）](https://www.bilibili.com/video/BV14Y4y1c76C/)
[^2]:蒋川.[如何远程连接 MySQL 数据库，阿里云腾讯云允许远程连接教程](https://kalacloud.com/blog/how-to-allow-remote-access-to-mysql/)
